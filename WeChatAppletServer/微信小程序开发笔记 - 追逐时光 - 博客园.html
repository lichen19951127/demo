<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="referrer" content="origin" />
    <title>微信小程序开发笔记 - 追逐时光 - 博客园</title>
<meta property="og:description" content="前言： 因为前段时间一直在做关于微信小程序方面的项目，作为一名后端的攻城狮而言做一些简单的前端页面数据操作和管理还是比较容易快上手的，当然前提是要理解微信小程序的基本语法和请求原理。该篇博客主要记录的" />
    <link type="text/css" rel="stylesheet" href="/bundles/blog-common.css?v=svlZeZMvc3He7PqOD4T7SOuQn0_kIfLBYiy3idqd35Y1"/>
<link id="MainCss" type="text/css" rel="stylesheet" href="/skins/SimpleMemory/bundle-SimpleMemory.css?v=EanP3quXYv9G0oFCmz4BNBHvmK7M_Si1iD1EpUHL_441"/>
<link type="text/css" rel="stylesheet" href="/blog/customcss/412744.css?v=CoxUBAvn5aGxcivEnHMZCsG1i40%3d"/>
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="/skins/SimpleMemory/bundle-SimpleMemory-mobile.css?v=C8rNZMN1xUcogg2mnN6C_ci7S2vGnJTt9TmfmncHzEA1"/>
    <link title="RSS" type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/Can-daydayup/rss"/>
    <link title="RSD" type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/Can-daydayup/rsd.xml"/>
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/Can-daydayup/wlwmanifest.xml"/>
    <script src="//common.cnblogs.com/scripts/jquery-2.2.0.min.js"></script>
    <script>var currentBlogId=412744;var currentBlogApp='Can-daydayup',cb_enable_mathjax=false;var isLogined=true;</script>
    <script src="/bundles/blog-common.js?v=OFBZTzkHKauV7mtIFLF9jlqrX-sesK9-mY9KjurLrq01" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>

<!--PageBeginHtml Block Begin-->
<!--打开我的github-->
<a name="top"></a>


<!--添加快速置顶小火箭-->
<style>
#back-top {
     position: fixed;
     bottom: 10px;
     right: 5px;
     z-index: 99;
}
#back-top span {
     width: 50px;
     height: 64px;
     display: block;
     background:url(https://www.cnblogs.com/images/cnblogs_com/Can-daydayup/1376854/o_o_rocket.png) no-repeat center center;
}
#back-top a{outline:none}
</style>
<script type="text/javascript">
$(function() {
    // hide #back-top first
    $("#back-top").hide();
    // fade in #back-top
    $(window).scroll(function() {
        if ($(this).scrollTop() > 500) {
            $('#back-top').fadeIn();
        } else {
            $('#back-top').fadeOut();
        }
    });
    // scroll body to 0px on click
    $('#back-top a').click(function() {
        $('body,html').animate({
            scrollTop: 0
        }, 800);
        return false;
    });
});
</script>
<p id="back-top" style="display:none"><a href="#top"><span></span></a></p>
<a href="#home" title="回到顶部" id="toTop">
    <span id="arrow"></span>
</a>
<!--PageBeginHtml Block End-->

<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
	<a id="lnkBlogLogo" href="https://www.cnblogs.com/Can-daydayup/"><img id="blogLogo" src="/Skins/custom/images/logo.gif" alt="返回主页" /></a>			
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle" href="https://www.cnblogs.com/Can-daydayup/">追逐时光</a></h1>
<h2>不积跬步无以至千里，不积小流无以成江河！
<!--PageBeginHtml Block Begin-->
<a target="_blank" href="https://github.com/YSGStudyHards">  
<img style="position: absolute;top: -50px;right: -30px;z-index: 1;" src="http://images.cnblogs.com/cnblogs_com/Can-daydayup/1368687/o_ForkmeGithub.png" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png">
</a></h2>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">博客园</a></li>
<li><a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/Can-daydayup/">首页</a></li>
<li><a id="blog_nav_newpost" class="menu" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>
<li><a id="blog_nav_contact" class="menu" rel="nofollow" href="https://msg.cnblogs.com/send/%E8%BF%BD%E9%80%90%E6%97%B6%E5%85%89">联系</a></li>
<li><a id="blog_nav_rss" class="menu" href="https://www.cnblogs.com/Can-daydayup/rss">订阅</a>
<!--<a id="blog_nav_rss_image" class="aHeaderXML" href="https://www.cnblogs.com/Can-daydayup/rss"><img src="//www.cnblogs.com/images/xml.gif" alt="订阅" /></a>--></li>
<li><a id="blog_nav_admin" class="menu" rel="nofollow" href="https://i.cnblogs.com/">管理</a></li>
</ul>
		<div class="blogStats">
			
			<div id="blog_stats">
<span id="stats_post_count">随笔 - 41&nbsp; </span>
<span id="stats_article_count">文章 - 0&nbsp; </span>
<span id="stats-comment_count">评论 - 17</span>
</div>
			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		
        <div id="post_detail">
<!--done-->
<div id="topics">
	<div class = "post">
		<h1 class = "postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/Can-daydayup/p/10687315.html">微信小程序开发笔记</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body"><h2>前言：</h2>
<p>　　因为前段时间一直在做关于微信小程序方面的项目，作为一名后端的攻城狮而言做一些简单的前端页面数据操作和管理还是比较容易快上手的，当然前提是要理解微信小程序的基本语法和请求原理。该篇博客主要记录的是在编写微信小程序时使用比较频繁，实用的一些方法和一些基本原理的概括。个人觉得把这些方法掌握好了，开发一个小型的微信小程序那是绰绰有余的啦。当然我这里并没有深入的对一些语言进行详细的概述，纯属个人总结，假如需要详细的微信小程序语法文档请移驾到：[<a href="https://developers.weixin.qq.com/miniprogram/dev/" target="_blank">https://developers.weixin.qq.com/miniprogram/dev/</a>]</p>
<h2>知识点：</h2>
<h3>一、向后端请求数据方法：</h3>
<p>wx.request({})</p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">wx.request({
url: </span><span style="color: #800000;">'</span><span style="color: #800000;">https://xxx.com/api/GetData</span><span style="color: #800000;">'</span>, <span style="color: #008000;">//</span><span style="color: #008000;">这里填写你的接口路径,注意一定要在微信小程序中授权过得https数字加密域名</span>
method: <span style="color: #800000;">'</span><span style="color: #800000;">get</span><span style="color: #800000;">'</span>,<span style="color: #008000;">//</span><span style="color: #008000;">请求方式</span>
header: { <span style="color: #008000;">//</span><span style="color: #008000;">接口口返回的数据是什么类型，这里就体现了微信小程序的强大，直接给你解析数据，再也不用去寻找各种方法去解析json，xml等数据了</span>
<span style="color: #800000;">'</span><span style="color: #800000;">Content-Type</span><span style="color: #800000;">'</span>: <span style="color: #800000;">'</span><span style="color: #800000;">application/json</span><span style="color: #800000;">'</span><span style="color: #000000;">
},
data: {</span><span style="color: #008000;">//</span><span style="color: #008000;">请求数据</span>
name: <span style="color: #800000;">''</span><span style="color: #000000;">
},
success: function (res) {
 </span><span style="color: #0000ff;">if</span> (res.statusCode == <span style="color: #800080;">200</span>) {<span style="color: #008000;">//</span><span style="color: #008000;">statusCode==200表示请求成功，有数据返回
 </span><span style="color: #008000;">//</span><span style="color: #008000;">这里就是请求成功后，进行一些函数操作</span>
 console.log(res.data)<span style="color: #808080;">///</span><span style="color: #008000;">/ 服务器回包内容</span>
<span style="color: #000000;">console.warn(res)
}},
fail: function (res) {
wx.showToast({ title: </span><span style="color: #800000;">'</span><span style="color: #800000;">系统错误</span><span style="color: #800000;">'</span><span style="color: #000000;"> })
},
complete: () </span>=&gt;<span style="color: #000000;"> {
wx.hideLoading();
} </span><span style="color: #008000;">//</span><span style="color: #008000;">complete接口执行后的回调函数，无论成功失败都会调用</span>
});</pre>
</div>
<p>&nbsp;</p>
<h3>&nbsp;二、通过凭证进而换取用户登录态信息：</h3>
<p>wx.login({})</p>
<div class="cnblogs_code">
<pre><span style="color: #000000;">wx.login({
success(res) {
</span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (res.code) {
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 发起网络请求</span>
<span style="color: #000000;">wx.request({
url: </span><span style="color: #800000;">'</span><span style="color: #800000;">https://test.com/onLogin</span><span style="color: #800000;">'</span><span style="color: #000000;">,
data: {
 code: res.code
},
method: </span><span style="color: #800000;">'</span><span style="color: #800000;">post</span><span style="color: #800000;">'</span><span style="color: #000000;">,
header:{</span><span style="color: #800000;">'</span><span style="color: #800000;">Content-Type</span><span style="color: #800000;">'</span>:<span style="color: #800000;">'</span><span style="color: #800000;">application/json</span><span style="color: #800000;">'</span><span style="color: #000000;">},
success:function(res)
{
 </span><span style="color: #008000;">//</span><span style="color: #008000;">得到用户openid</span>
<span style="color: #000000;">console.log(res.openid);
}
})
} </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
console.log(</span><span style="color: #800000;">'</span><span style="color: #800000;">登录失败！</span><span style="color: #800000;">'</span> +<span style="color: #000000;"> res.errMsg)
}
}
})</span></pre>
</div>
<h3>三、小程序中三种变量声明方式（var,let,const）:&nbsp;</h3>
<div class="cnblogs_Highlighter">
<pre class="brush:csharp;gutter:true;">var：全局变量
let： 块级变量，又称之为局部变量
const：块级作用域，当时它属于不变的常量
</pre>
</div>
<p>　　</p>
<h3>四、小程序应用生命周期：【详细概括：<a href="https://www.jianshu.com/p/0078507e14d3" target="_blank">https://www.jianshu.com/p/0078507e14d3</a>】</h3>
<p><img src="https://img2018.cnblogs.com/blog/1336199/201904/1336199-20190411012304011-1600426752.png" alt="" /></p>
<p>&nbsp;</p>
<div class="cnblogs_Highlighter">
<pre class="brush:csharp;gutter:true;">小程序初始化完成后，页面首次加载触发onLoad，只会触发一次。
当小程序进入到后台，先执行页面onHide方法再执行应用onHide方法。
当小程序从后台进入到前台，先执行应用onShow方法再执行页面onShow方法。
<br />data Object 页面的初始数据&nbsp;<br />onLoad Function 生命周期函数--监听页面加载，首次进入会执行此方法进行数据加载，一个页面只会加载一次&nbsp;<br />onReady Function 生命周期函数--监听页面初次渲染完成&nbsp;<br />onShow Function 生命周期函数--监听页面显示，数据显示，每次打开页面都会加载一次&nbsp;<br />onHide Function 生命周期函数--监听页面隐藏&nbsp;<br />onUnload Function 生命周期函数--监听页面卸载
</pre>
</div>
<p>　　</p>
<h3>五、模块引入方式（require或者是import):</h3>
<div class="cnblogs_code">
<pre><span style="color: #008000;">//</span><span style="color: #008000;"> 用 import 或者 require 引入模块 </span>
<span style="color: #800080;">1</span>.import util <span style="color: #0000ff;">from</span> <span style="color: #800000;">'</span><span style="color: #800000;">../../../util/util.js</span><span style="color: #800000;">'</span>
<span style="color: #800080;">2</span>.<span style="color: #0000ff;">var</span> Promise = require(<span style="color: #800000;">'</span><span style="color: #800000;">../../../plugin/promise.js</span><span style="color: #800000;">'</span>)   </pre>
</div>
<p>&nbsp;</p>
<h3>六、对应方法中通过定义var that=this;来代表当前方法的上下文对象：</h3>
<blockquote>
<p><strong>为什么要这样做呢？</strong></p>
<p>　　在javascript语言中，this代表着当前的对象，而this在微信小程序中随着执行的上下文随时会变化。所以当在一个方法里面直接使用this的话会找不到这个方法中所指定的对象值，因为对应的上下文中的data值已经改变了。自然就没有了data属性，也没有了data.itemLists属性了。解决的办法就是复制一份当前的对象。</p>
</blockquote>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">var</span> that=<span style="color: #0000ff;">this</span>;<span style="color: #008000;">//</span><span style="color: #008000;">把this对象复制到临时变量that.</span>
<span style="color: #000000;">
console.log(that.data.itemLists[res.tapIndex]);</span><span style="color: #008000;">//</span><span style="color: #008000;">使用that.data 属性</span></pre>
</div>
<p>&nbsp;</p>
<h3>七、小程序缓存的那些事:</h3>
<p>1.wx.setStorageSync(string key, any data)</p>
<p>2.wx.setStorage(Object object)</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">//本地缓存</span>
<span style="color: #000000;">wx.setStorage({
key: </span><span style="color: #800000;">"</span><span style="color: #800000;">cartResult</span><span style="color: #800000;">"</span><span style="color: #000000;">,
data: cartResult
})

</span><span style="color: #008000;">//</span><span style="color: #008000;">小程序本地缓存</span>
wx.setStorageSync(<span style="color: #0000ff;">string</span><span style="color: #000000;"> key, any data)

</span><span style="color: #008000;">//</span><span style="color: #008000;">通过key获取缓存中的对象值：</span>
<span style="color: #000000;"> wx.getStorage({
      key: </span><span style="color: #800000;">'</span><span style="color: #800000;">cartResult</span><span style="color: #800000;">'</span><span style="color: #000000;">,
      success: res </span>=&gt;<span style="color: #000000;"> {
        </span><span style="color: #0000ff;">if</span> (res.data.length &gt; <span style="color: #800080;">0</span><span style="color: #000000;">){
          </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.setData({
            cartResult: </span><span style="color: #0000ff;">true</span><span style="color: #000000;">
          });}
      },
    })


</span><span style="color: #008000;">//</span><span style="color: #008000;">清空对应缓存：</span>
wx.removeStorageSync(<span style="color: #800000;">'</span><span style="color: #800000;">cartResult</span><span style="color: #800000;">'</span><span style="color: #000000;">)


</span><span style="color: #008000;">//</span><span style="color: #008000;">清空小程序缓存</span>
wx.clearStorageSync()</pre>
</div>
<p>&nbsp;</p>
<h3>八、微信小程序列表渲染：</h3>
<div class="cnblogs_code">
<pre>wx：<span style="color: #0000ff;">for</span> 控制属性绑定一个数组，<br />wx:<span style="color: #0000ff;">for</span>-<span style="color: #000000;">item :当前数组变量名
wx:</span><span style="color: #0000ff;">for</span>-<span style="color: #000000;">index 当前数组下标的一个变量名
wx:key:如果列表中项目的位置会动态改变或者有新的项目添加到列表中，并且希望列表中的项目保持自己的特征和状态（如 </span>&lt;input/&gt; <br />中的输入内容，&lt;<span style="color: #0000ff;">switch</span>/&gt; 的选中状态），需要使用 wx:key 来指定列表中项目的唯一的标识符。</pre>
</div>
<div class="cnblogs_code">
<pre><span style="color: #008000;">//</span><span style="color: #008000;">微信wxml列表循环：</span>
&lt;view wx:<span style="color: #0000ff;">for</span>=<span style="color: #800000;">"</span><span style="color: #800000;">{{items}}</span><span style="color: #800000;">"</span> wx:<span style="color: #0000ff;">for</span>-index=<span style="color: #800000;">"</span><span style="color: #800000;">index</span><span style="color: #800000;">"</span> wx:<span style="color: #0000ff;">for</span>-item=<span style="color: #800000;">"</span><span style="color: #800000;">item</span><span style="color: #800000;">"</span>&gt;<span style="color: #000000;">
{{index</span>+<span style="color: #800080;">1</span><span style="color: #000000;">}}、{{item.title}}
</span>&lt;/view&gt;

<span style="color: #008000;">//</span><span style="color: #008000;">js中</span><span style="color: #000000;">
page({
data:{
items:[{title:</span><span style="color: #800000;">'</span><span style="color: #800000;">小明</span><span style="color: #800000;">'</span>},{title:<span style="color: #800000;">'</span><span style="color: #800000;">小红</span><span style="color: #800000;">'</span><span style="color: #000000;">}]
}
})</span></pre>
</div>
<p>&nbsp;</p>
<h3>九、小程序js中的数组 forEach 数据遍历：</h3>
<div class="cnblogs_code">
<pre><span style="color: #000000;">data:{
objIndex:[{name:</span><span style="color: #800000;">'</span><span style="color: #800000;">小明</span><span style="color: #800000;">'</span>},{name:<span style="color: #800000;">'</span><span style="color: #800000;">小红</span><span style="color: #800000;">'</span>},{name:<span style="color: #800000;">'</span><span style="color: #800000;">小姚</span><span style="color: #800000;">'</span><span style="color: #000000;">}]
}

</span><span style="color: #008000;">//</span><span style="color: #008000;">定义容器</span>
let ContentArray=<span style="color: #000000;">[];
</span><span style="color: #008000;">//</span><span style="color: #008000;">索引数据拼接</span>
<span style="color: #000000;">objIndex.forEach(function(item, index) {

ContentArray.push({name:item})

});</span></pre>
</div>
<p>&nbsp;</p>
<h3>十、小程序js中的数组 for 数据遍历：</h3>
<div class="cnblogs_code">
<pre>let dList=<span style="color: #000000;">res.data.list;
let array</span>=<span style="color: #000000;">[];
</span><span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">var</span> i <span style="color: #0000ff;">in</span><span style="color: #000000;"> dList)
{
</span><span style="color: #008000;">//</span><span style="color: #008000;">数组拼接</span>
<span style="color: #000000;">array.push({
id:dList[i].Id,
menu_logo: dList[i].CoverImgId,
menu_name: dList[i].CategoryName,
price: dList[i].SalesPrice
});
}</span></pre>
</div>
<p>&nbsp;</p>
<h3>十一、微信小程序模块化(向外暴露接口)：</h3>
<div class="cnblogs_code">
<pre><span style="color: #000000;">第一种方式：
fucntion sayGoodbye()
{
</span><span style="color: #008000;">//</span><span style="color: #008000;">相应逻辑</span>
<span style="color: #000000;">}

</span><span style="color: #008000;">//</span><span style="color: #008000;">向外暴露</span>
<span style="color: #800080;">1</span><span style="color: #000000;">.module.exports{
 sayGoodbye:sayGoodbye 
}
</span><span style="color: #800080;">2</span>.exports.sayHello=<span style="color: #000000;">sayHello;

第二种方式：
</span><span style="color: #008000;">//</span><span style="color: #008000;">直接全部模块化</span>
export <span style="color: #0000ff;">default</span>=<span style="color: #000000;">{
function sayHello(name) {
  console.log(`Hello ${name} </span>!<span style="color: #000000;">`)
}
function sayGoodbye(name) {
  console.log(`Goodbye ${name} </span>!<span style="color: #000000;">`)
}
        
};</span></pre>
</div>
<p>&nbsp;</p>
<h3>十二、小程序事件方法【bindtab,catchtap,bindconfirm,bindfocus,bindblur,bindchange,bindinput】：</h3>
<h4>首先bindtab（相当于js中的onclick 点击事件）和catchtap的区别：</h4>
<blockquote>
<p>我们都知道bindtap和catchtap都是当用户点击该组件的时候会在该页面对应的Page中找到相应的事件处理函数。但是bind事件绑定不会阻止冒泡事件向上冒泡，catch事件绑定可以阻止冒泡事件向上冒泡。</p>
</blockquote>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre>&lt;view id=<span style="color: #800000;">"</span><span style="color: #800000;">outer</span><span style="color: #800000;">"</span> bindtap=<span style="color: #800000;">"</span><span style="color: #800000;">handleTap1</span><span style="color: #800000;">"</span>&gt;<span style="color: #000000;">
outer view
</span>&lt;view id=<span style="color: #800000;">"</span><span style="color: #800000;">middle</span><span style="color: #800000;">"</span> catchtap=<span style="color: #800000;">"</span><span style="color: #800000;">handleTap2</span><span style="color: #800000;">"</span>&gt;<span style="color: #000000;">
middle view
</span>&lt;view id=<span style="color: #800000;">"</span><span style="color: #800000;">inner</span><span style="color: #800000;">"</span> bindtap=<span style="color: #800000;">"</span><span style="color: #800000;">handleTap3</span><span style="color: #800000;">"</span>&gt;<span style="color: #000000;">
inner view
</span>&lt;/view&gt;
&lt;/view&gt;<span style="color: #000000;">
 
Page({
    handleTap1:function(</span><span style="color: #0000ff;">event</span>){  <span style="color: #008000;">//</span><span style="color: #008000;">点击输出outer view bindtap</span>
      console.log(<span style="color: #800000;">"</span><span style="color: #800000;">outer view bindtap</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    },
    handleTap2: function (</span><span style="color: #0000ff;">event</span>) {  <span style="color: #008000;">//</span><span style="color: #008000;">点击输出middle view</span>
      console.log(<span style="color: #800000;">"</span><span style="color: #800000;">middle view catchtap</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    },
    handleTap3: function (</span><span style="color: #0000ff;">event</span>) {  <span style="color: #008000;">//</span><span style="color: #008000;">点击输出inner view bindtap  middle view catchtap</span>
      console.log(<span style="color: #800000;">"</span><span style="color: #800000;">inner view bindtap</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    },
})</span></pre>
</div>
<div class="cnblogs_Highlighter">
<pre class="brush:csharp;gutter:true;">bindconfirm 是点击小键盘上的搜索按钮就触发要执行的方法
bindfocus: 指当我们的输入框获得焦点时触发，也就是鼠标或者手指点击到输入框时。
bindblur: 指输入框失去焦点是触发，也就是当我们敲击回车或手机上的完成又或者是点击屏幕上的空白处时触发。 
bindchange: 这个事件官方文档中没有写，它的效果和bindblur一样，至于看名字我们可能觉得bindchange在输入框中的内容不改变时不会触发，但是亲测即使内容不改变，bindchange事件也一样会触发。 
bindinput: 每输入一个字符都会进行一次检索，通常用于实时检索。但是这种方法对数据库的要求较高。
在bindblur或bindchange事件中我们通过event.detail.value获得swiper中的事件，左右滑动的时候，滑动结束会出发这个事件。
</pre>
</div>
<p>&nbsp;</p>
<h3>十三、小程序数组的那些事（push，push.apply，concat）：</h3>
<div class="cnblogs_Highlighter">
<pre class="brush:csharp;gutter:true;">push 遇到数组参数时，把整个数组参数作为一个元素；
concat 则是拆开数组参数，一个元素一个元素地加进去。  
push 直接改变当前数组；concat 不改变当前数组。
//在原数组的同时，添加增加一个新的数据，如js中的append
goods.push.apply(goods, data); //将页面上面的数组和最新获取到的数组进行合并
</pre>
</div>
<p>　　</p>
<h3>十四、通过bindtab点击事件，传值：</h3>
<div class="cnblogs_code">
<pre><span style="color: #008000;">//</span><span style="color: #008000;">其中data-id为自定义属性值，可以按照自己的参数名称进行定义</span>

&lt;button bindtab=<span style="color: #800000;">'</span><span style="color: #800000;">getcoupons</span><span style="color: #800000;">'</span> data-id=<span style="color: #800000;">'</span><span style="color: #800000;">{{id}}</span><span style="color: #800000;">'</span> data-index=<span style="color: #800000;">'</span><span style="color: #800000;">{{index}}</span><span style="color: #800000;">'</span>&gt;领取&lt;/button&gt;

 <span style="color: #008000;">//</span><span style="color: #008000;">js中:</span>
<span style="color: #000000;"> getcoupons(even){
 </span><span style="color: #008000;">//</span><span style="color: #008000;">直接看输出</span>
<span style="color: #000000;"> console.log(even);
 </span><span style="color: #0000ff;">const</span> id=<span style="color: #000000;">even.currentarget.id;
 或者even.target.dataset.id
 }      </span></pre>
</div>
<p>&nbsp;</p>
<h3>十五、超链接传值：</h3>
<div class="cnblogs_code">
<pre>&lt;navigator url=<span style="color: #800000;">'</span><span style="color: #800000;">/page/index?id</span><span style="color: #800000;">'</span>&gt;调转&lt;/navigator&gt;

<span style="color: #008000;">//</span><span style="color: #008000;">页面监听，数据加载事件</span>
<span style="color: #000000;">onload:function(options)
{
    console.log(options.id)
}</span></pre>
</div>
<p>&nbsp;</p>
<h3>十六、小程序页面调转的那些事：</h3>
<div class="cnblogs_Highlighter">
<pre class="brush:csharp;gutter:true;">wx.switchTab 跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面
wx.reLaunch 关闭所有页面，打开到应用内的某个页面
wx.redirectTo 关闭当前页面，跳转到应用内的某个页面
wx.navigateTo 保留当前页面，跳转到应用内的某个页面
wx.navigateBack 关闭当前页面，返回上一页面或多级页面
</pre>
</div>
<p>&nbsp;</p>
<h3>十七、小程序自定义调转地址和背景图片的转发，分享：</h3>
<div class="cnblogs_code">
<pre><span style="color: #008000;">  /*</span><span style="color: #008000;">*
   * 用户单击右上角分享
   </span><span style="color: #008000;">*/</span><span style="color: #000000;">
  onShareAppMessage: function() {
    let title </span>= <span style="color: #800000;">"</span><span style="color: #800000;">你好</span><span style="color: #800000;">"</span>; <span style="color: #008000;">//</span><span style="color: #008000;">标题</span>
    let path = <span style="color: #800000;">"</span><span style="color: #800000;">pages/home/home?fartherPhone=</span><span style="color: #800000;">"</span>+app.globalData.Phone; <span style="color: #008000;">//</span><span style="color: #008000;">页面路径</span>
    let imageUrl =<span style="color: #800000;">'</span><span style="color: #800000;">https://ad.yoweller.com/images/webimg/banner.jpg</span><span style="color: #800000;">'</span>;<span style="color: #008000;">//</span><span style="color: #008000;">自定义图片地址</span>
    <span style="color: #0000ff;">return</span><span style="color: #000000;"> {
      title: title,
      path: path,
      imageUrl: imageUrl
    }
  }</span></pre>
</div>
<p>&nbsp;</p>
<h3>十八、小程序三目运算：</h3>
<div class="cnblogs_code">
<pre>&lt;view <span style="color: #0000ff;">class</span>=<span style="color: #800000;">"</span><span style="color: #800000;">set-default</span><span style="color: #800000;">"</span>&gt;
    &lt;icon <span style="color: #0000ff;">class</span>=<span style="color: #800000;">"</span><span style="color: #800000;">icon</span><span style="color: #800000;">"</span> type=<span style="color: #800000;">"</span><span style="color: #800000;">{{item.isDefault == true ? 'success_circle' : 'circle'}}</span><span style="color: #800000;">"</span>/&gt;
    &lt;text&gt;默认地址&lt;/text&gt;
&lt;/view&gt;

&lt;text <span style="color: #0000ff;">class</span>=<span style="color: #800000;">"</span><span style="color: #800000;">viewpager-title {{current == 0 ? 'area-selected' : ''}}</span><span style="color: #800000;">"</span> bindtap=<span style="color: #800000;">"</span><span style="color: #800000;">changeCurrent</span><span style="color: #800000;">"</span> data-current=<span style="color: #800000;">"</span><span style="color: #800000;">0</span><span style="color: #800000;">"</span>&gt;{{provinceName}}&lt;/text&gt;</pre>
</div>
<p>&nbsp;</p>
<h3>十九、小程序常用的弹窗提示：</h3>
<div class="cnblogs_code">
<pre><span style="color: #008000;">//</span><span style="color: #008000;">loading加载</span>
<span style="color: #000000;">wx.showToast({
     title: </span><span style="color: #800000;">'</span><span style="color: #800000;">加载中</span><span style="color: #800000;">'</span><span style="color: #000000;">,
     icon:</span><span style="color: #800000;">'</span><span style="color: #800000;">loading</span><span style="color: #800000;">'</span><span style="color: #000000;">,
     duration:</span><span style="color: #800080;">10000</span><span style="color: #000000;">
)}<br />
</span></pre>
<pre><span style="color: #008000;">//</span><span style="color: #008000;">操作成功弹窗</span>
<span style="color: #000000;">wx.showToast({
     title:</span><span style="color: #800000;">'</span><span style="color: #800000;">成功</span><span style="color: #800000;">'</span><span style="color: #000000;">,
     icon:</span><span style="color: #800000;">'</span><span style="color: #800000;">success</span><span style="color: #800000;">'</span><span style="color: #000000;">,
     duration:</span><span style="color: #800080;">2000</span><span style="color: #000000;">
})

</span><span style="color: #008000;">//</span><span style="color: #008000;">confirm 提示框</span>
<span style="color: #000000;">wx.showModal({
      title: </span><span style="color: #800000;">'</span><span style="color: #800000;">提示</span><span style="color: #800000;">'</span><span style="color: #000000;">,
      content: </span><span style="color: #800000;">'</span><span style="color: #800000;">这是一个模态窗口</span><span style="color: #800000;">'</span><span style="color: #000000;">,
      showCancel:</span><span style="color: #0000ff;">false</span>,<span style="color: #008000;">//</span><span style="color: #008000;">关闭取消按钮</span>
<span style="color: #000000;">      success:function(res){
            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(res.confirm){
              console.log(</span><span style="color: #800000;">'</span><span style="color: #800000;">弹框后点取消</span><span style="color: #800000;">'</span><span style="color: #000000;">)
            }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
                console.log(</span><span style="color: #800000;">'</span><span style="color: #800000;">弹框后点取消</span><span style="color: #800000;">'</span><span style="color: #000000;">)
            }
      }
})
  </span></pre>
</div>
<p>&nbsp;</p>
<h3>二十、微信小程序form表单的那些事：</h3>
<div class="cnblogs_code">
<pre>&lt;form bindsubmit=<span style="color: #800000;">'</span><span style="color: #800000;">submit</span><span style="color: #800000;">'</span> bindreset=<span style="color: #800000;">'</span><span style="color: #800000;">reset</span><span style="color: #800000;">'</span>&gt; 
&lt;button formtype=<span style="color: #800000;">'</span><span style="color: #800000;">submit</span><span style="color: #800000;">'</span>&gt;submit&lt;/button&gt;<span style="color: #008000;">//</span><span style="color: #008000;">提交</span>
&lt;button formtype=<span style="color: #800000;">'</span><span style="color: #800000;">reset</span><span style="color: #800000;">'</span>&gt;reset&lt;/button&gt;<span style="color: #008000;">//</span><span style="color: #008000;">重置</span>
&lt;/form&gt;<span style="color: #000000;">

//首先使用form</span>-type=<span style="color: #800000;">'</span><span style="color: #800000;">submit</span><span style="color: #800000;">'</span><span style="color: #000000;">提交表单中的value数据时，需要在表单主键上加上name用作key
page({
submit:function(e)
{
    
}
})</span></pre>
</div>
<p>&nbsp;</p>
<h3>二十一、清空对应Input文本框中的值：</h3>
<div class="cnblogs_code">
<pre><span style="color: #000000;">//js<br />Page({
  data: {
    userInput: </span><span style="color: #800000;">''</span><span style="color: #000000;">,//定义文本框中的值
  },
  clearInput: function () {
    </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.setData({
      userInput: </span><span style="color: #800000;">''</span><span style="color: #000000;">
    });
  },<br />  //通过检索input文本框改变事件进行及时赋值
  bindKeyInput: function(e) {
    </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.setData({
      userInput: e.detail.value
    });
  }
})
<br />//wxml中
</span>&lt;input value=<span style="color: #800000;">"</span><span style="color: #800000;">{{userInput}}</span><span style="color: #800000;">"</span> bindinput=<span style="color: #800000;">"</span><span style="color: #800000;">bindKeyInput</span><span style="color: #800000;">"</span>&gt;&lt;/input&gt;
&lt;view bindtap=<span style="color: #800000;">"</span><span style="color: #800000;">clearInput</span><span style="color: #800000;">"</span>&gt;点击清除输入框&lt;/view&gt;</pre>
</div>
<h3>&nbsp;二十二、条件渲染（wx:if）:</h3>
<div class="cnblogs_code">
<pre>wx:<span style="color: #0000ff;">if</span><span style="color: #000000;">
在框架中，使用 wx:</span><span style="color: #0000ff;">if</span>=<span style="color: #800000;">"</span><span style="color: #800000;">{{condition}}</span><span style="color: #800000;">"</span><span style="color: #000000;"> 来判断是否需要渲染该代码块：

</span>&lt;view wx:<span style="color: #0000ff;">if</span>=<span style="color: #800000;">"</span><span style="color: #800000;">{{condition}}</span><span style="color: #800000;">"</span>&gt;True&lt;/view&gt;<span style="color: #000000;">
也可以用 wx:elif 和 wx:</span><span style="color: #0000ff;">else</span> 来添加一个 <span style="color: #0000ff;">else</span><span style="color: #000000;"> 块：

</span>&lt;view wx:<span style="color: #0000ff;">if</span>=<span style="color: #800000;">"</span><span style="color: #800000;">{{length &gt; 5}}</span><span style="color: #800000;">"</span>&gt;<span style="color: #800080;">1</span>&lt;/view&gt;
&lt;view wx:elif=<span style="color: #800000;">"</span><span style="color: #800000;">{{length &gt; 2}}</span><span style="color: #800000;">"</span>&gt;<span style="color: #800080;">2</span>&lt;/view&gt;
&lt;view wx:<span style="color: #0000ff;">else</span>&gt;<span style="color: #800080;">3</span>&lt;/view&gt;<span style="color: #000000;">
block wx:</span><span style="color: #0000ff;">if</span><span style="color: #000000;">
因为 wx:</span><span style="color: #0000ff;">if</span> 是一个控制属性，需要将它添加到一个标签上。如果要一次性判断多个组件标签，可以使用一个 &lt;block/&gt; 标签将多个组件包装起来，并在上边使用 wx:<span style="color: #0000ff;">if</span><span style="color: #000000;"> 控制属性。

</span>&lt;block wx:<span style="color: #0000ff;">if</span>=<span style="color: #800000;">"</span><span style="color: #800000;">{{true}}</span><span style="color: #800000;">"</span>&gt;
  &lt;view&gt;view1&lt;/view&gt;
  &lt;view&gt;view2&lt;/view&gt;
&lt;/block&gt;</pre>
</div>
<p>&nbsp;</p>
<h2>总结：</h2>
<p>　　 其实接触新得技术并不可怕，可怕的是你自己不知道该怎么去认识它。认识一门新语言的第一步是先主动去了解它的一些习性和特点。上面有一部分是来自于比较好的博客和微信小程序API文档，然后我根据自己的想法和心得做了注释和改变让自己加深一遍印象。</p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory"></div>
<div id="EntryTag"></div>
<div id="blog_post_info">
</div>
<div class="clear"></div>
<div id="post_next_prev"></div>
</div>


		</div>
		<div class = "postDesc">posted @ <span id="post-date">2019-04-11 01:47</span> <a href='https://www.cnblogs.com/Can-daydayup/'>追逐时光</a> 阅读(<span id="post_view_count">...</span>) 评论(<span id="post_comment_count">...</span>)  <a href ="https://i.cnblogs.com/EditPosts.aspx?postid=10687315" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(10687315);return false;">收藏</a></div>
	</div>
	<script type="text/javascript">var allowComments=true,cb_blogId=412744,cb_entryId=10687315,cb_blogApp=currentBlogApp,cb_blogUserGuid='b03019b6-0299-4937-53e1-08d54dba4453',cb_entryCreatedDate='2019/4/11 1:47:00';loadViewCount(cb_entryId);var cb_postType=1;var isMarkdown=false;</script>
	
</div><!--end: topics 文章、评论容器-->
</div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id='comment_form' class='commentform'>
<a name='commentform'></a>
<div id='divCommentShow'></div>
<div id='comment_nav'><span id='span_refresh_tips'></span><a href='javascript:void(0);' onclick='return RefreshCommentList();' id='lnk_RefreshComments' runat='server' clientidmode='Static'>刷新评论</a><a href='#' onclick='return RefreshPage();'>刷新页面</a><a href='#top'>返回顶部</a></div>
<div id='comment_form_container'></div>
<div class='ad_text_commentbox' id='ad_text_under_commentbox'></div>
<div id='ad_t2'></div>
<div id='opt_under_post'></div>
<script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'></script>
<script>
  var googletag = googletag || {};
  googletag.cmd = googletag.cmd || [];
</script>
<script>
  googletag.cmd.push(function() {
        googletag.defineSlot('/1090369/C1', [300, 250], 'div-gpt-ad-1546353474406-0').addService(googletag.pubads());
        googletag.defineSlot('/1090369/C2', [468, 60], 'div-gpt-ad-1539008685004-0').addService(googletag.pubads());
        googletag.pubads().enableSingleRequest();
        googletag.enableServices();
  });
</script>
<div id='cnblogs_c1' class='c_ad_block'>
    <div id='div-gpt-ad-1546353474406-0' style='height:250px; width:300px;'></div>
</div>
<div id='under_post_news'></div>
<div id='cnblogs_c2' class='c_ad_block'>
    <div id='div-gpt-ad-1539008685004-0' style='height:60px; width:468px;'></div>
</div>
<div id='under_post_kb'></div>
<div id='HistoryToday' class='c_ad_block'></div>
<script type='text/javascript'>
 if(enablePostBottom()) {
    codeHighlight();
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverT2();
    deliverC1();
    deliverC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);  
}
</script>
</div>

    
	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news"></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="blog-calendar" style="display:none"></div><script type="text/javascript">loadBlogDefaultCalendar();</script>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright &copy;2019 追逐时光
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->

</body>
</html>
