#pragma checksum "F:\资料\资料\demo\电子签名\WebApplication1\Views\Test\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "f6f37a93e6c823a43f4c3bdd5ac268fc255fdd49"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Test_Index), @"mvc.1.0.view", @"/Views/Test/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "F:\资料\资料\demo\电子签名\WebApplication1\Views\_ViewImports.cshtml"
using WebApplication1;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "F:\资料\资料\demo\电子签名\WebApplication1\Views\_ViewImports.cshtml"
using WebApplication1.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"f6f37a93e6c823a43f4c3bdd5ac268fc255fdd49", @"/Views/Test/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"729efaa87342638aecfe1a972ce9f9f8dff55b4c", @"/Views/_ViewImports.cshtml")]
    public class Views_Test_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/lib/jSignature-master/libs/modernizr.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/lib/jSignature-master/libs/jSignature.min.noconflict.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 2 "F:\资料\资料\demo\电子签名\WebApplication1\Views\Test\Index.cshtml"
  
    Layout = null;

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("head", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "f6f37a93e6c823a43f4c3bdd5ac268fc255fdd494257", async() => {
                WriteLiteral(@"
    <meta charset=""utf-8"">
    <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
       Remove this if you use the .htaccess -->
    <meta http-equiv=""X-UA-Compatible"" content=""IE=edge,chrome=1"">
    <meta name=""viewport"" content=""initial-scale=1.0, target-densitydpi=device-dpi"" /><!-- this is for mobile (Android) Chrome -->
    <meta name=""viewport"" content=""initial-scale=1.0, width=device-height""><!--  mobile Safari, FireFox, Opera Mobile  -->
    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "f6f37a93e6c823a43f4c3bdd5ac268fc255fdd495017", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral(@"
    <!--[if lt IE 9]>
    <script type=""text/javascript"" src=""libs/flashcanvas.js""></script>
    <![endif]-->
    <style type=""text/css"">

        div {
            margin-top: 1em;
            margin-bottom: 1em;
        }

        input {
            padding: .5em;
            margin: .5em;
        }

        select {
            padding: .5em;
            margin: .5em;
        }

        #signatureparent {
            color: darkblue;
            background-color: darkgrey;
            /*max-width:600px;*/
            padding: 20px;
        }

        /*This is the div within which the signature canvas is fitted*/
        #signature {
            border: 2px dotted black;
            background-color: lightgrey;
        }

        /* Drawing the 'gripper' for touch-enabled devices */
        html.touch #content {
            float: left;
            width: 92%;
        }

        html.touch #scrollgrabber {
            float: right;
            width: 4%;
       ");
                WriteLiteral(@"     margin-right: 2%;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAFCAAAAACh79lDAAAAAXNSR0IArs4c6QAAABJJREFUCB1jmMmQxjCT4T/DfwAPLgOXlrt3IwAAAABJRU5ErkJggg==)
        }

        html.borderradius #scrollgrabber {
            border-radius: 1em;
        }
    </style>
");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "f6f37a93e6c823a43f4c3bdd5ac268fc255fdd498201", async() => {
                WriteLiteral(@"
    <div>
        <div id=""content"">
            <input type=""button"" value=""上传"" onclick=""add()"" />
            <div id=""signatureparent"">
                <div>jSignature inherits colors from parent element. Text = Pen color. Background = Background. (This works even when Flash-based Canvas emulation is used.)</div>
                <div id=""signature""></div>
            </div>
            <div id=""tools""></div>
            <div><p>Display Area:</p><div id=""displayarea""></div></div>
        </div>
        <div id=""scrollgrabber""></div>
    </div>
    <script src=""http://www.jq22.com/jquery/jquery-1.10.2.js""></script>
    <script type=""text/javascript"">
        jQuery.noConflict()
    </script>
    <script>
");
                WriteLiteral(@"(function($) {
	var topics = {};
	$.publish = function(topic, args) {
	    if (topics[topic]) {
	        var currentTopic = topics[topic],
	        args = args || {};

	        for (var i = 0, j = currentTopic.length; i < j; i++) {
	            currentTopic[i].call($, args);
	        }
	    }
	};
	$.subscribe = function(topic, callback) {
	    if (!topics[topic]) {
	        topics[topic] = [];
	    }
	    topics[topic].push(callback);
	    return {
	        ""topic"": topic,
	        ""callback"": callback
	    };
	};
	$.unsubscribe = function(handle) {
	    var topic = handle.topic;
	    if (topics[topic]) {
	        var currentTopic = topics[topic];

	        for (var i = 0, j = currentTopic.length; i < j; i++) {
	            if (currentTopic[i] === handle.callback) {
	                currentTopic.splice(i, 1);
	            }
	        }
	    }
	};
})(jQuery);

    </script>
    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "f6f37a93e6c823a43f4c3bdd5ac268fc255fdd4910178", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral(@"
    <script>
        (function ($) {

            $(document).ready(function () {

                // This is the part where jSignature is initialized.
                var $sigdiv = $(""#signature"").jSignature({ 'UndoButton': true })

                    // All the code below is just code driving the demo.
                    , $tools = $('#tools')
                    , $extraarea = $('#displayarea')
                    , pubsubprefix = 'jSignature.demo.'

                var export_plugins = $sigdiv.jSignature('listPlugins', 'export')
                    , chops = ['<span><b>提取签名数据: </b></span><select>', '<option value="""">(select export format)</option>']
                    , name
                for (var i in export_plugins) {
                    if (export_plugins.hasOwnProperty(i)) {
                        name = export_plugins[i]
                        chops.push('<option value=""' + name + '"">' + name + '</option>')
                    }
                }
                chops.p");
                WriteLiteral(@"ush('</select><span><b> or: </b></span>')

                $(chops.join('')).bind('change', function (e) {
                    if (e.target.value !== '') {
                        var data = $sigdiv.jSignature('getData', e.target.value)
                        $.publish(pubsubprefix + 'formatchanged')
                        if (typeof data === 'string') {
                            $('textarea', $tools).val(data)
                        } else if ($.isArray(data) && data.length === 2) {
                            $('textarea', $tools).val(data.join(','))
                            $.publish(pubsubprefix + data[0], data);
                        } else {
                            try {
                                $('textarea', $tools).val(JSON.stringify(data))
                            } catch (ex) {
                                $('textarea', $tools).val('Not sure how to stringify this, likely binary, format.')
                            }
                        }
           ");
                WriteLiteral(@"         }
                }).appendTo($tools)


                $('<input type=""button"" value=""Reset"">').bind('click', function (e) {
                    $sigdiv.jSignature('reset')
                }).appendTo($tools)

                $('<div><textarea style=""width:100%;height:7em;""></textarea></div>').appendTo($tools)

                $.subscribe(pubsubprefix + 'formatchanged', function () {
                    $extraarea.html('')
                })

                $.subscribe(pubsubprefix + 'image/svg+xml', function (data) {

                    try {
                        var i = new Image()
                        i.src = 'data:' + data[0] + ';base64,' + btoa(data[1])
                        $(i).appendTo($extraarea)
                    } catch (ex) {

                    }

                    var message = [
                        ""If you don't see an image immediately above, it means your browser is unable to display in-line (data-url-formatted) SVG.""
                    ");
                WriteLiteral(@"    , ""This is NOT an issue with jSignature, as we can export proper SVG document regardless of browser's ability to display it.""
                        , ""Try this page in a modern browser to see the SVG on the page, or export data as plain SVG, save to disk as text file and view in any SVG-capabale viewer.""
                    ]
                    $(""<div>"" + message.join(""<br/>"") + ""</div>"").appendTo($extraarea)
                });

                $.subscribe(pubsubprefix + 'image/svg+xml;base64', function (data) {
                    var i = new Image()
                    i.src = 'data:' + data[0] + ',' + data[1]
                    $(i).appendTo($extraarea)

                    var message = [
                        ""If you don't see an image immediately above, it means your browser is unable to display in-line (data-url-formatted) SVG.""
                        , ""This is NOT an issue with jSignature, as we can export proper SVG document regardless of browser's ability to display it.""
");
                WriteLiteral(@"                        , ""Try this page in a modern browser to see the SVG on the page, or export data as plain SVG, save to disk as text file and view in any SVG-capabale viewer.""
                    ]
                    $(""<div>"" + message.join(""<br/>"") + ""</div>"").appendTo($extraarea)
                });

                $.subscribe(pubsubprefix + 'image/png;base64', function (data) {
                    var i = new Image()
                    i.src = 'data:' + data[0] + ',' + data[1]
                    $('<span><b>As you can see, one of the problems of ""image"" extraction (besides not working on some old Androids, elsewhere) is that it extracts A LOT OF DATA and includes all the decoration that is not part of the signature.</b></span>').appendTo($extraarea)
                    $(i).appendTo($extraarea)

                    var datapair = $sigdiv.jSignature(""getData"", ""image"");
                    var len = $sigdiv.jSignature('getData', 'native').length;
                    if (len > 0) {
 ");
                WriteLiteral(@"                       $.post(
                            ""/Test/UploadSignature?dt="" + new Date(),
                            {
                                imgData: datapair[1]
                            }, function (res) {
                                if (res.success) {
                                    alert('上传成功!');
                                } else {
                                    alert(res.message);
                                }
                            }
                        )
                    }
                    else {
                        alert(""请先签名"")
                    }

                });

                $.subscribe(pubsubprefix + 'image/jsignature;base30', function (data) {
                    $('<span><b>This is a vector format not natively render-able by browsers. Format is a compressed ""movement coordinates arrays"" structure tuned for use server-side. The bonus of this format is its tiny storage footprint and ease of deriving ren");
                WriteLiteral(@"dering instructions in programmatic, iterative manner.</b></span>').appendTo($extraarea)
                });

                if (Modernizr.touch) {
                    $('#scrollgrabber').height($('#content').height())
                }

            })

        })(jQuery)

    </script>
");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n</html>\r\n\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
